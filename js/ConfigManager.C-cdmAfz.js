import{d as ae,r as m,c as T,q as I,i as ne,v as se,a as w,e,p as S,n as C,x as A,j as E,t as j,_ as z,T as ie,y as re,w as X,b as D,f as ye,F as N,m as G,o as b,z as q,A as O,B as le,C as oe,g as _e,D as Ve,k as Ce,E as Pe,G as $e,H as Fe}from"./main.Dyol8uth.js";import{u as Ee}from"./python.CFDplgS4.js";const be=[{key:"index-url",label:"镜像源",description:"PyPI 包下载源（主索引 URL）",type:"select",category:"镜像源配置",options:[{label:"清华镜像",value:"https://pypi.tuna.tsinghua.edu.cn/simple"},{label:"阿里云",value:"https://mirrors.aliyun.com/pypi/simple/"},{label:"腾讯云",value:"https://mirrors.cloud.tencent.com/pypi/simple"},{label:"中科大",value:"https://pypi.mirrors.ustc.edu.cn/simple/"},{label:"豆瓣",value:"https://pypi.douban.com/simple/"},{label:"官方源",value:"https://pypi.org/simple"}],placeholder:"https://pypi.org/simple"},{key:"extra-index-url",label:"额外索引源",description:"额外的 PyPI 索引 URL（可以多个，用空格分隔）",type:"text",category:"镜像源配置",placeholder:"https://example.com/simple"},{key:"trusted-host",label:"信任主机",description:"信任的主机地址（避免 SSL 验证错误，可多个，用空格分隔）",type:"text",category:"镜像源配置",placeholder:"pypi.tuna.tsinghua.edu.cn"},{key:"find-links",label:"查找链接",description:"额外的包查找链接（URL 或本地路径，可多个，用空格分隔）",type:"text",category:"镜像源配置",placeholder:"https://example.com/packages/"},{key:"no-index",label:"禁用索引",description:"禁用包索引，仅使用 --find-links 指定的链接",type:"boolean",category:"镜像源配置",defaultValue:"false"},{key:"timeout",label:"超时时间",description:"网络请求超时时间（秒）",type:"number",category:"网络配置",placeholder:"15",defaultValue:"15"},{key:"retries",label:"重试次数",description:"网络请求失败时的重试次数",type:"number",category:"网络配置",placeholder:"5",defaultValue:"5"},{key:"proxy",label:"代理服务器",description:"代理服务器地址（格式：http://user:pass@host:port）",type:"text",category:"网络配置",placeholder:"http://proxy.example.com:8080"},{key:"cert",label:"CA 证书",description:"CA 证书文件路径（用于验证服务器证书）",type:"text",category:"网络配置",placeholder:"/path/to/ca-bundle.crt"},{key:"client-cert",label:"客户端证书",description:"客户端证书文件路径（用于客户端认证）",type:"text",category:"网络配置",placeholder:"/path/to/client.pem"},{key:"cache-dir",label:"缓存目录",description:"pip 缓存目录路径",type:"text",category:"缓存配置",placeholder:"~/.cache/pip"},{key:"no-cache-dir",label:"禁用缓存",description:"禁用 pip 缓存功能",type:"boolean",category:"缓存配置",defaultValue:"false"},{key:"upgrade",label:"自动升级",description:"安装时自动升级已安装的包",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"upgrade-strategy",label:"升级策略",description:"升级策略：only-if-needed（仅必要时）或 eager（总是升级）",type:"select",category:"安装配置",options:[{label:"仅必要时升级",value:"only-if-needed"},{label:"总是升级",value:"eager"}],defaultValue:"only-if-needed"},{key:"force-reinstall",label:"强制重装",description:"即使已安装也强制重新安装",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"no-deps",label:"不安装依赖",description:"不安装包的依赖项",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"pre",label:"允许预发布版本",description:"允许安装预发布版本（alpha、beta、rc）",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"require-virtualenv",label:"要求虚拟环境",description:"要求在虚拟环境中运行 pip",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"break-system-packages",label:"允许修改系统包",description:"允许 pip 修改 EXTERNALLY-MANAGED 的 Python 环境（谨慎使用）",type:"boolean",category:"安装配置",defaultValue:"false",meta:{cliFlags:["--break-system-packages"],notes:"仅在支持 --break-system-packages 的 pip 版本中可用"}},{key:"user",label:"用户安装",description:"安装到用户目录而非系统目录",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"target",label:"目标目录",description:"安装包的目标目录",type:"text",category:"安装配置",placeholder:"/path/to/target"},{key:"prefix",label:"安装前缀",description:"安装包的路径前缀",type:"text",category:"安装配置",placeholder:"/path/to/prefix"},{key:"root",label:"根目录",description:"安装包相对于的根目录",type:"text",category:"安装配置",placeholder:"/path/to/root"},{key:"compile",label:"编译 Python 文件",description:"将 Python 源文件编译为字节码",type:"boolean",category:"安装配置",defaultValue:"true"},{key:"no-compile",label:"不编译 Python 文件",description:"不将 Python 源文件编译为字节码",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"no-warn-script-location",label:"不警告脚本位置",description:"不警告脚本不在 PATH 中",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"no-warn-conflicts",label:"不警告冲突",description:"不警告依赖冲突",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"platform",label:"平台",description:"目标平台（例如：linux_x86_64）",type:"text",category:"下载配置",placeholder:"linux_x86_64"},{key:"python-version",label:"Python 版本",description:"目标 Python 版本（例如：3.9）",type:"text",category:"下载配置",placeholder:"3.9"},{key:"implementation",label:"实现",description:"Python 实现（例如：cp、pp、jy）",type:"text",category:"下载配置",placeholder:"cp"},{key:"abi",label:"ABI",description:"应用二进制接口（例如：cp39）",type:"text",category:"下载配置",placeholder:"cp39"},{key:"only-binary",label:"仅二进制",description:"仅使用二进制分发包（:all: 表示所有包，:none: 表示不使用）",type:"text",category:"下载配置",placeholder:":all:"},{key:"no-binary",label:"不使用二进制",description:"不使用二进制分发包（:all: 表示所有包，:none: 表示不使用）",type:"text",category:"下载配置",placeholder:":none:"},{key:"prefer-binary",label:"优先二进制",description:"优先使用二进制分发包而非源码包",type:"boolean",category:"下载配置",defaultValue:"false"},{key:"no-clean",label:"不清理",description:"下载后不清理临时文件",type:"boolean",category:"下载配置",defaultValue:"false"},{key:"log",label:"日志文件",description:"日志文件路径",type:"text",category:"日志配置",placeholder:"~/.pip/pip.log"},{key:"verbose",label:"详细输出",description:"启用详细输出",type:"boolean",category:"日志配置",defaultValue:"false"},{key:"quiet",label:"静默模式",description:"静默模式，减少输出",type:"boolean",category:"日志配置",defaultValue:"false"},{key:"progress-bar",label:"进度条",description:"显示进度条（on、off、ascii、pretty、emoji）",type:"select",category:"日志配置",options:[{label:"开启",value:"on"},{label:"关闭",value:"off"},{label:"ASCII",value:"ascii"},{label:"美化",value:"pretty"},{label:"Emoji",value:"emoji"}],defaultValue:"on"},{key:"disable-pip-version-check",label:"禁用版本检查",description:"禁用 pip 版本检查",type:"boolean",category:"其他配置",defaultValue:"false"},{key:"isolated",label:"隔离模式",description:"隔离模式，忽略环境变量和用户配置",type:"boolean",category:"其他配置",defaultValue:"false"},{key:"ignore-installed",label:"忽略已安装",description:"忽略已安装的包，强制重新安装",type:"boolean",category:"其他配置",defaultValue:"false"},{key:"no-build-isolation",label:"禁用构建隔离",description:"禁用构建隔离（高级选项）",type:"boolean",category:"安装配置",defaultValue:"false"},{key:"use-pep517",label:"使用 PEP 517",description:"使用 PEP 517 构建源码包（新版 pip 默认启用）",type:"boolean",category:"安装配置",defaultValue:"true"},{key:"check-build-dependencies",label:"检查构建依赖",description:"使用 PEP517 时检查构建依赖项",type:"boolean",category:"安装配置",defaultValue:"false",meta:{cliFlags:["--check-build-dependencies"],notes:"根据 pip 版本可能不可用"}},{key:"use-feature",label:"启用实验性功能",description:"启用实验性功能（可多个，用空格分隔）",type:"text",category:"其他配置",placeholder:"fast-deps"},{key:"keyring-provider",label:"密钥环提供者",description:"凭证查找机制：auto（自动）、disabled（禁用）、import（导入）、subprocess（子进程）",type:"select",category:"其他配置",options:[{label:"自动",value:"auto"},{label:"禁用",value:"disabled"},{label:"导入",value:"import"},{label:"子进程",value:"subprocess"}],defaultValue:"auto",meta:{cliFlags:["--keyring-provider"],notes:"需要 pip 支持 keyring-provider 选项"}},{key:"no-color",label:"禁用颜色输出",description:"禁止在输出中使用颜色",type:"boolean",category:"日志配置",defaultValue:"false",meta:{cliFlags:["--no-color"]}}];be.reduce((x,h)=>{const r=h.category;return x[r]||(x[r]=[]),x[r].push(h),x},{});const Le={tsinghua:{"index-url":"https://pypi.tuna.tsinghua.edu.cn/simple","trusted-host":"pypi.tuna.tsinghua.edu.cn",timeout:"15",retries:"5"},aliyun:{"index-url":"https://mirrors.aliyun.com/pypi/simple/","trusted-host":"mirrors.aliyun.com",timeout:"15",retries:"5"},official:{"index-url":"https://pypi.org/simple"}},Ue=[{key:"default-index",label:"默认索引源",description:"默认的 PyPI 索引 URL（推荐使用此字段替代 index-url）",type:"select",category:"镜像源配置",options:[{label:"清华镜像",value:"https://pypi.tuna.tsinghua.edu.cn/simple"},{label:"阿里云",value:"https://mirrors.aliyun.com/pypi/simple/"},{label:"腾讯云",value:"https://mirrors.cloud.tencent.com/pypi/simple"},{label:"中科大",value:"https://pypi.mirrors.ustc.edu.cn/simple/"},{label:"官方源",value:"https://pypi.org/simple"}],placeholder:"https://pypi.org/simple",meta:{cliFlags:["--default-index"],notes:"uv 新版本提供 --default-index 选项时可用"}},{key:"index-url",label:"索引源（已弃用）",description:"PyPI 索引 URL（已弃用，建议使用 default-index）",type:"text",category:"镜像源配置",placeholder:"https://pypi.org/simple",meta:{cliFlags:["--index-url"]}},{key:"index",label:"额外索引源",description:"额外的 PyPI 索引 URL（可添加多个）",type:"text",category:"镜像源配置",placeholder:"https://example.com/simple",meta:{cliFlags:["--index"]}},{key:"extra-index-url",label:"额外索引源（已弃用）",description:"额外的 PyPI 索引 URL（已弃用，建议使用 index）",type:"text",category:"镜像源配置",placeholder:"https://example.com/simple",meta:{cliFlags:["--extra-index-url"]}},{key:"find-links",label:"查找链接",description:"额外的包查找链接（URL 或本地路径）",type:"text",category:"镜像源配置",placeholder:"https://example.com/packages/"},{key:"no-index",label:"禁用索引",description:"忽略包索引，仅使用 --find-links 指定的链接",type:"boolean",category:"镜像源配置",defaultValue:"false"},{key:"index-strategy",label:"索引策略",description:"索引查找策略：first-match（首次匹配）或 unsafe-any-match（任意匹配）",type:"select",category:"镜像源配置",options:[{label:"首次匹配",value:"first-match"},{label:"任意匹配",value:"unsafe-any-match"}],defaultValue:"first-match"},{key:"cache-dir",label:"缓存目录",description:"uv 缓存目录路径",type:"text",category:"缓存配置",placeholder:"~/.cache/uv"},{key:"no-cache",label:"禁用缓存",description:"禁用缓存功能",type:"boolean",category:"缓存配置",defaultValue:"false"},{key:"python-version",label:"Python 版本",description:"默认 Python 版本（例如：3.11）",type:"text",category:"Python 版本配置",placeholder:"3.11"},{key:"managed-python",label:"托管 Python",description:"要求使用 uv 托管的 Python 版本",type:"boolean",category:"Python 版本配置",defaultValue:"false"},{key:"no-managed-python",label:"禁用托管 Python",description:"禁用使用 uv 托管的 Python 版本",type:"boolean",category:"Python 版本配置",defaultValue:"false"},{key:"no-python-downloads",label:"禁用 Python 下载",description:"禁用自动下载 Python",type:"boolean",category:"Python 版本配置",defaultValue:"false"},{key:"native-tls",label:"原生 TLS",description:"从平台的原生证书存储加载 TLS 证书",type:"boolean",category:"网络配置",defaultValue:"false",meta:{cliFlags:["--native-tls"]}},{key:"allow-insecure-host",label:"允许不安全主机",description:"允许连接到不安全的主机（可多个，用空格分隔）",type:"text",category:"网络配置",placeholder:"pypi.tuna.tsinghua.edu.cn",meta:{cliFlags:["--allow-insecure-host"]}},{key:"keyring-provider",label:"密钥环提供者",description:"凭证查找机制：disabled（禁用）或 subprocess（子进程）",type:"select",category:"网络配置",options:[{label:"禁用",value:"disabled"},{label:"子进程",value:"subprocess"}],defaultValue:"subprocess"},{key:"no-build-isolation",label:"禁用构建隔离",description:"禁用构建源码包时的隔离环境",type:"boolean",category:"构建配置",defaultValue:"false",meta:{cliFlags:["--no-build-isolation"]}},{key:"no-build-isolation-package",label:"禁用特定包的构建隔离",description:"禁用特定包的构建隔离（可多个，用空格分隔）",type:"text",category:"构建配置",placeholder:"package1 package2",meta:{cliFlags:["--no-build-isolation-package"]}},{key:"compile-bytecode",label:"编译字节码",description:"安装后编译 Python 字节码",type:"boolean",category:"构建配置",defaultValue:"false",meta:{cliFlags:["--compile-bytecode"]}},{key:"config-setting",label:"构建配置",description:"传递给 PEP 517 构建后端的配置（格式：KEY=VALUE）",type:"text",category:"构建配置",placeholder:"KEY=VALUE",meta:{cliFlags:["--config-setting"]}},{key:"resolution",label:"解析策略",description:"版本选择策略：highest（最高版本）、lowest（最低版本）、lowest-direct（直接依赖最低）",type:"select",category:"解析器配置",options:[{label:"最高版本",value:"highest"},{label:"最低版本",value:"lowest"},{label:"直接依赖最低",value:"lowest-direct"}],defaultValue:"highest"},{key:"prerelease",label:"预发布版本",description:"预发布版本策略",type:"select",category:"解析器配置",options:[{label:"禁止",value:"disallow"},{label:"允许",value:"allow"},{label:"必要时",value:"if-necessary"},{label:"显式指定",value:"explicit"},{label:"必要时或显式",value:"if-necessary-or-explicit"}],defaultValue:"if-necessary-or-explicit"},{key:"exclude-newer",label:"排除新包",description:"排除指定日期之后上传的包（格式：YYYY-MM-DD）",type:"text",category:"解析器配置",placeholder:"2024-11-01"},{key:"no-deps",label:"不安装依赖",description:"不安装包的依赖项",type:"boolean",category:"安装配置",defaultValue:"false",meta:{cliFlags:["--no-deps"]}},{key:"require-hashes",label:"要求哈希验证",description:"要求每个包都有哈希验证",type:"boolean",category:"安装配置",defaultValue:"false",meta:{cliFlags:["--require-hashes"]}},{key:"system",label:"系统环境",description:"安装到系统 Python 环境",type:"boolean",category:"安装配置",defaultValue:"false",meta:{cliFlags:["--system"]}},{key:"break-system-packages",label:"允许修改系统包",description:"允许修改 EXTERNALLY-MANAGED 的 Python 环境",type:"boolean",category:"安装配置",defaultValue:"false",meta:{cliFlags:["--break-system-packages"]}},{key:"target",label:"目标目录",description:"安装包到指定目录",type:"text",category:"安装配置",placeholder:"/path/to/target",meta:{cliFlags:["--target"]}},{key:"prefix",label:"安装前缀",description:"安装到指定前缀目录（lib、bin 等）",type:"text",category:"安装配置",placeholder:"/path/to/prefix",meta:{cliFlags:["--prefix"]}},{key:"no-binary",label:"不使用二进制包",description:"不使用预编译的二进制包（可指定包名或 :all:）",type:"text",category:"安装配置",placeholder:":all: 或 package-name",meta:{cliFlags:["--no-binary"]}},{key:"only-binary",label:"仅使用二进制包",description:"仅使用预编译的二进制包（可指定包名或 :all:）",type:"text",category:"安装配置",placeholder:":all: 或 package-name",meta:{cliFlags:["--only-binary"]}},{key:"reinstall",label:"重新安装",description:"重新安装所有包",type:"boolean",category:"安装配置",defaultValue:"false",meta:{cliFlags:["--reinstall"]}},{key:"link-mode",label:"链接模式",description:"从全局缓存安装包的方法",type:"select",category:"安装配置",options:[{label:"克隆",value:"clone"},{label:"复制",value:"copy"},{label:"硬链接",value:"hardlink"},{label:"符号链接",value:"symlink"}],defaultValue:"clone",meta:{cliFlags:["--link-mode"]}},{key:"quiet",label:"静默模式",description:"减少输出信息",type:"boolean",category:"其他配置",defaultValue:"false",meta:{cliFlags:["--quiet"]}},{key:"verbose",label:"详细输出",description:"显示详细输出信息",type:"boolean",category:"其他配置",defaultValue:"false",meta:{cliFlags:["--verbose"]}},{key:"color",label:"颜色输出",description:"控制输出中的颜色使用",type:"select",category:"其他配置",options:[{label:"自动",value:"auto"},{label:"总是",value:"always"},{label:"从不",value:"never"}],defaultValue:"auto",meta:{cliFlags:["--color"]}},{key:"offline",label:"离线模式",description:"禁用网络访问，仅使用本地缓存",type:"boolean",category:"其他配置",defaultValue:"false",meta:{cliFlags:["--offline"]}},{key:"no-progress",label:"隐藏进度条",description:"隐藏所有进度输出",type:"boolean",category:"其他配置",defaultValue:"false",meta:{cliFlags:["--no-progress"]}},{key:"refresh",label:"刷新缓存",description:"刷新所有缓存数据",type:"boolean",category:"其他配置",defaultValue:"false",meta:{cliFlags:["--refresh"]}},{key:"config-file",label:"配置文件",description:"指定 uv.toml 配置文件路径",type:"text",category:"其他配置",placeholder:"/path/to/uv.toml",meta:{cliFlags:["--config-file"]}},{key:"no-config",label:"禁用配置文件",description:"不加载配置文件（pyproject.toml、uv.toml）",type:"boolean",category:"其他配置",defaultValue:"false",meta:{cliFlags:["--no-config"]}}],Re={tsinghua:{"default-index":"https://pypi.tuna.tsinghua.edu.cn/simple","allow-insecure-host":"pypi.tuna.tsinghua.edu.cn"},aliyun:{"default-index":"https://mirrors.aliyun.com/pypi/simple/","allow-insecure-host":"mirrors.aliyun.com"},tencent:{"default-index":"https://mirrors.cloud.tencent.com/pypi/simple","allow-insecure-host":"mirrors.cloud.tencent.com"},ustc:{"default-index":"https://pypi.mirrors.ustc.edu.cn/simple/","allow-insecure-host":"pypi.mirrors.ustc.edu.cn"},official:{"default-index":"https://pypi.org/simple"}};function Te(x){const h={global:["index-url","extra-index-url","trusted-host","find-links","no-index","timeout","retries","proxy","cert","client-cert","cache-dir","no-cache-dir","require-virtualenv","log","log-file","verbose","quiet","progress-bar","disable-pip-version-check","isolated","use-feature","build-dir","src","dist-dir"],install:["upgrade","upgrade-strategy","force-reinstall","no-deps","pre","user","target","prefix","root","install-option","global-option","compile","no-compile","no-warn-script-location","no-warn-conflicts","ignore-installed","no-build-isolation","use-pep517","no-use-pep517","constraint"],download:["dest","platform","python-version","implementation","abi","only-binary","no-binary","prefer-binary","no-clean"]},r={global:[],install:[],download:[]};for(const[i,l]of Object.entries(x)){if(l==null||l==="")continue;let v=!1;for(const[c,s]of Object.entries(h))if(s.includes(i)){typeof l=="boolean"?l&&r[c].push({key:i,value:""}):r[c].push({key:i,value:l}),v=!0;break}v||(typeof l=="boolean"?l&&r.global.push({key:i,value:""}):r.global.push({key:i,value:l}))}const p=[],n=["global","install","download"];for(const i of n)if(r[i].length>0){p.push(`[${i}]`);for(const{key:l,value:v}of r[i])v===""?p.push(l):p.push(`${l} = ${v}`);p.push("")}return p.join(`
`).trim()||"# 暂无配置"}function fe(x){const h={},r=x.split(`
`);for(const p of r){const n=p.trim();if(!n||n.startsWith("#")||n.startsWith(";"))continue;if(n.startsWith("[")&&n.endsWith("]")){n.slice(1,-1).trim();continue}const i=n.indexOf("=");if(i>0){const l=n.substring(0,i).trim(),v=n.substring(i+1).trim();h[l]=v}else n.length>0&&(h[n]=!0)}return h}function je(x){const h=["[tool.uv]"],r=["镜像源配置","缓存配置","Python 版本配置","网络配置","构建配置","其他配置"],p={};for(const[n,i]of Object.entries(x)){if(i==null||i==="")continue;let l="其他配置";n.includes("index")||n.includes("url")?l="镜像源配置":n.includes("cache")?l="缓存配置":n.includes("python")?l="Python 版本配置":n.includes("timeout")||n.includes("retries")||n.includes("cert")?l="网络配置":(n.includes("build")||n.includes("compile"))&&(l="构建配置"),p[l]||(p[l]=[]),typeof i=="boolean"?i&&p[l].push({key:n,value:!0}):p[l].push({key:n,value:i})}for(const n of r)if(p[n]&&p[n].length>0){h.push(`# ${n}`);for(const{key:i,value:l}of p[n])typeof l=="boolean"?h.push(`${i} = ${l}`):typeof l=="number"?h.push(`${i} = ${l}`):typeof l=="string"&&l.startsWith("[")?h.push(`${i} = ${l}`):h.push(`${i} = "${l}"`);h.push("")}return h.join(`
`).trim()||"# 暂无配置"}function ge(x){const h={},r=x.split(`
`);let p=!1;for(const n of r){const i=n.trim();if(!i||i.startsWith("#"))continue;if(i==="[tool.uv]"){p=!0;continue}if(i.startsWith("[")&&i!=="[tool.uv]"){p=!1;continue}if(!p)continue;const l=i.indexOf("=");if(l>0){const v=i.substring(0,l).trim();let c=i.substring(l+1).trim();(c.startsWith('"')&&c.endsWith('"')||c.startsWith("'")&&c.endsWith("'"))&&(c=c.slice(1,-1)),c==="true"?h[v]=!0:c==="false"?h[v]=!1:!isNaN(Number(c))&&c!==""?h[v]=Number(c):h[v]=c}}return h}const Ae={class:"text-gray-900 truncate"},ze=["onClick"],Oe={class:"truncate"},ve=ae({__name:"Select",props:{modelValue:{default:""},options:{},size:{default:"md"}},emits:["update:modelValue"],setup(x,{emit:h}){const r=x,p=h,n=m(!1),i=m(),l=m(),v=m("bottom"),c=m({}),s=T(()=>r.options.find(k=>k.value===r.modelValue)?.label||"请选择");function y(f){p("update:modelValue",f),setTimeout(()=>{n.value=!1},0)}async function _(){n.value=!n.value,n.value&&(await q(),P())}function P(){if(!i.value)return;const f=i.value.getBoundingClientRect(),k=240,g=window.innerHeight-f.bottom,U=f.top;g<k&&U>g?(v.value="top",c.value={bottom:`${window.innerHeight-f.top+4}px`,left:`${f.left}px`,width:`${f.width}px`}):(v.value="bottom",c.value={top:`${f.bottom+4}px`,left:`${f.left}px`,width:`${f.width}px`})}I(n,f=>{f&&q(()=>{P()})});function L(f){const k=f.target,g=i.value?.contains(k),U=l.value?.contains(k);!g&&!U&&(n.value=!1)}return ne(()=>{document.addEventListener("click",L)}),se(()=>{document.removeEventListener("click",L)}),(f,k)=>(b(),w("div",{class:"relative",ref_key:"selectRef",ref:i},[e("button",{onClick:A(_,["stop"]),type:"button",class:C(["w-full flex items-center justify-between bg-white border border-gray-300 rounded-md hover:border-indigo-500 transition-colors text-left",x.size==="sm"?"px-2 py-1 text-xs min-w-[120px] h-[26px]":"px-3 py-2 text-sm",{"border-indigo-500":n.value}])},[e("span",Ae,j(s.value),1),E(z,{name:"chevron-down",size:x.size==="sm"?"xs":"sm",class:C([{"transform rotate-180":n.value},"transition-transform text-gray-500 flex-shrink-0 ml-1.5"])},null,8,["size","class"])],2),(b(),S(ie,{to:"body"},[E(re,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:X(()=>[n.value?(b(),w("div",{key:0,ref_key:"dropdownRef",ref:l,style:ye(c.value),class:C(["fixed z-[9999] bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",x.size==="sm"?"text-xs":"text-sm"])},[(b(!0),w(N,null,G(x.options,g=>(b(),w("button",{key:g.value,onClick:A(U=>y(g.value),["stop"]),onMousedown:k[0]||(k[0]=A(()=>{},["prevent"])),class:C(["w-full text-left hover:bg-indigo-50 transition-colors flex items-center justify-between",x.size==="sm"?"px-2.5 py-1.5":"px-3 py-2",g.value===x.modelValue?"bg-indigo-50 text-indigo-600":"text-gray-900"])},[e("span",Oe,j(g.label),1),g.value===x.modelValue?(b(),S(z,{key:0,name:"check",size:x.size==="sm"?"xs":"sm",class:"text-indigo-600 flex-shrink-0 ml-1.5"},null,8,["size"])):D("",!0)],42,ze))),128))],6)):D("",!0)]),_:1})]))],512))}}),Ie=["placeholder"],De=["onMousedown","onMouseenter"],Se={class:"font-medium"},Me={key:0,class:"text-gray-500 mt-0.5 truncate"},Be=ae({__name:"Combobox",props:{modelValue:{},options:{},placeholder:{default:""}},emits:["update:modelValue"],setup(x,{emit:h}){const r=x,p=h,n=m(null),i=m(null),l=m(null),v=m(null),c=m(r.modelValue),s=m(!1),y=m(-1),_=m({});let P=null;function L(){if(!i.value||!s.value){_.value={};return}const u=i.value.getBoundingClientRect(),V=window.innerHeight,$=240,F=V-u.bottom,W=u.top;F<$&&W>F?_.value={bottom:`${V-u.top+4}px`,left:`${u.left}px`,width:`${u.width}px`}:_.value={top:`${u.bottom+4}px`,left:`${u.left}px`,width:`${u.width}px`}}const f=m(!1),k=T(()=>{if(!f.value||!c.value)return r.options;const u=c.value.toLowerCase();return r.options.filter(V=>V.label.toLowerCase().includes(u)||V.value.toLowerCase().includes(u))});I(s,u=>{u&&requestAnimationFrame(()=>{L()})}),I(()=>r.modelValue,u=>{c.value=u}),I(c,u=>{p("update:modelValue",u)});function g(){s.value=!0,f.value=!1,y.value=-1}function U(){setTimeout(()=>{s.value=!1,f.value=!1},200)}function J(){s.value=!0,f.value=!0,y.value=-1}function ce(){s.value=!s.value,s.value&&(f.value=!1,v.value?.focus())}function Q(u){c.value=u.value,s.value=!1,f.value=!1,v.value?.blur()}function H(u){if(!s.value&&(u.key==="ArrowDown"||u.key==="ArrowUp")){s.value=!0,f.value=!1,u.preventDefault();return}if(s.value)switch(u.key){case"ArrowDown":u.preventDefault(),y.value<k.value.length-1&&(y.value++,M());break;case"ArrowUp":u.preventDefault(),y.value>0&&(y.value--,M());break;case"Enter":u.preventDefault(),y.value>=0&&y.value<k.value.length&&Q(k.value[y.value]);break;case"Escape":u.preventDefault(),s.value=!1,v.value?.blur();break}}function M(){const u=l.value;if(!u)return;const V=u.children[y.value];if(V){const $=u.getBoundingClientRect(),F=V.getBoundingClientRect();F.bottom>$.bottom?V.scrollIntoView({block:"nearest"}):F.top<$.top&&V.scrollIntoView({block:"nearest"})}}function Y(u){const V=u.target,$=n.value?.contains(V),F=l.value?.contains(V);!$&&!F&&(s.value=!1)}function Z(){s.value&&(P||(P=window.requestAnimationFrame(()=>{L(),P=null})))}function B(){Z()}function ee(){Z()}return ne(()=>{document.addEventListener("click",Y),window.addEventListener("scroll",B,!0),window.addEventListener("resize",ee)}),se(()=>{document.removeEventListener("click",Y),window.removeEventListener("scroll",B,!0),window.removeEventListener("resize",ee),P&&cancelAnimationFrame(P)}),(u,V)=>(b(),w("div",{class:"relative",ref_key:"comboboxRef",ref:n},[e("div",{class:"relative flex items-center",ref_key:"triggerRef",ref:i},[O(e("input",{ref_key:"inputRef",ref:v,"onUpdate:modelValue":V[0]||(V[0]=$=>c.value=$),type:"text",placeholder:x.placeholder,class:"flex-1 px-2 py-1 pr-8 text-xs bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 hover:border-indigo-400 transition-all min-w-0",onFocus:g,onBlur:U,onKeydown:H,onInput:J},null,40,Ie),[[le,c.value]]),e("button",{type:"button",class:"absolute right-1 w-6 h-6 flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors",onMousedown:A(ce,["prevent"]),tabindex:"-1"},[E(z,{name:s.value?"chevron-up":"chevron-down",size:"xs"},null,8,["name"])],32)],512),(b(),S(ie,{to:"body"},[E(re,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:X(()=>[O(e("div",{ref_key:"dropdownRef",ref:l,style:ye(_.value),class:"fixed z-[9999] bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto"},[(b(!0),w(N,null,G(k.value,($,F)=>(b(),w("div",{key:$.value,class:C(["px-3 py-2 text-xs cursor-pointer transition-colors",F===y.value?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-50"]),onMousedown:A(W=>Q($),["prevent"]),onMouseenter:W=>y.value=F},[e("div",Se,j($.label),1),$.value?(b(),w("div",Me,j($.value),1)):D("",!0)],42,De))),128))],4),[[oe,s.value&&k.value.length>0]])]),_:1})]))],512))}}),We=ae({__name:"DropdownMenu",setup(x,{expose:h}){const r=m(!1),p=m(),n=m(),i=m({});function l(){r.value=!r.value,r.value&&q(()=>{q(()=>{c()})})}function v(){r.value=!1}h({close:v});function c(){if(!p.value||!n.value)return;const y=p.value.getBoundingClientRect(),_=n.value.offsetHeight||200,P=n.value.offsetWidth||180,L=window.innerHeight-y.bottom,f=y.top;window.innerWidth-y.right,y.left;let k=0,g=0;L<_&&f>L?(g=window.innerHeight-y.top+4,i.value={bottom:`${g}px`}):(k=y.bottom+4,i.value={top:`${k}px`});let U=y.left;U+P>window.innerWidth&&(U=window.innerWidth-P-8),U<8&&(U=8),i.value={...i.value,left:`${U}px`,minWidth:`${y.width}px`}}I(r,y=>{y?q(()=>{q(()=>{c(),window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)})}):(window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0))});function s(y){const _=y.target,P=p.value?.contains(_),L=n.value?.contains(_);!P&&!L&&(r.value=!1)}return ne(()=>{document.addEventListener("click",s)}),se(()=>{document.removeEventListener("click",s),window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),(y,_)=>(b(),w("div",{class:"relative",ref_key:"menuRef",ref:p},[e("button",{onClick:A(l,["stop"]),type:"button",class:C(["px-2.5 py-1.5 text-xs rounded-md transition-all flex items-center gap-1.5",r.value?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},[_[0]||(_[0]=e("svg",{class:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"12",cy:"12",r:"1"}),e("circle",{cx:"12",cy:"5",r:"1"}),e("circle",{cx:"12",cy:"19",r:"1"})],-1)),E(z,{name:"chevron-down",size:"xs",class:C([{"transform rotate-180":r.value},"transition-transform"])},null,8,["class"])],2),(b(),S(ie,{to:"body"},[E(re,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:X(()=>[r.value?(b(),w("div",{key:0,ref_key:"dropdownRef",ref:n,style:ye(i.value),class:"fixed z-[9999] bg-white border border-gray-200 rounded-md shadow-lg min-w-[180px] overflow-hidden"},[_e(y.$slots,"default",{close:v})],4)):D("",!0)]),_:3})]))],512))}}),Ne={class:"w-full h-full flex flex-col"},qe={class:"flex items-center gap-2 border-r border-gray-200 pr-4"},He={class:"flex items-center border-r border-gray-200 pr-4"},Ye={class:"px-2 py-1"},Ke={class:"flex items-center gap-1 bg-gray-100 rounded-md p-0.5"},Ge=["onClick"],Xe=["onClick"],Je={class:"px-2 py-1"},Qe={class:"flex items-center gap-1 bg-gray-100 rounded-md p-0.5"},Ze=["onClick"],et=["onClick"],tt={class:"px-2 py-1"},lt={class:"flex items-center gap-1 bg-gray-100 rounded-md p-0.5"},ot=["onClick","title"],at={class:"flex-1 flex min-h-0 overflow-hidden"},nt={class:"flex-1 overflow-y-auto overflow-x-hidden min-h-0"},st={class:"p-2 space-y-2"},it=["onClick"],rt={class:"flex items-center gap-1.5"},ct={class:"text-xs font-semibold text-gray-700"},ut={class:"text-xs text-gray-400"},dt={class:"bg-white border-0"},pt={class:"p-2 space-y-1"},yt={class:"flex items-center gap-2"},ft=["title"],gt={class:"flex-1 flex items-center gap-1.5 min-w-0 overflow-hidden"},vt=["onUpdate:modelValue","placeholder"],bt=["onUpdate:modelValue","placeholder"],ht={key:4,class:"flex items-center gap-2 cursor-pointer"},mt=["onUpdate:modelValue"],xt=["onClick"],wt=["onClick"],kt=["title"],_t={class:"flex-1 overflow-y-auto overflow-x-hidden p-2 space-y-2 min-h-0"},Vt={class:"bg-white rounded-lg overflow-hidden shadow-lg border border-gray-200"},Ct={class:"flex items-center justify-between px-3 py-2 bg-gray-50 border-b border-gray-200"},Pt={class:"text-xs text-gray-700 font-mono font-semibold"},$t={class:"flex gap-1.5"},Ft=["disabled","title"],Et=["placeholder"],Lt={class:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm"},Ut={class:"px-3 py-2 bg-gray-50 border-b border-gray-200"},Rt={class:"text-xs font-semibold text-gray-700"},Tt={key:0,class:"p-3 text-xs text-gray-700 font-mono leading-relaxed max-h-96 overflow-auto select-text whitespace-pre-wrap break-words",style:{"word-wrap":"break-word","overflow-wrap":"break-word"}},jt={key:1,class:"p-3 text-xs text-gray-500 text-center"},Ot=ae({__name:"ConfigManager",setup(x){const h=Pe(),r=Fe(),p=Ee(),n=m(new Set),i=m(null),l=m("pip"),v=m("dual"),c=m("current"),s=Ve({}),y=m(""),_=m(""),P=m(""),L=m(""),f=m(!1),k=m(!1),g=m("idle"),U=[{label:"双屏",value:"dual",icon:"layout-split"},{label:"编辑",value:"edit",icon:"edit"},{label:"预览",value:"preview",icon:"eye"}],J=T(()=>l.value==="pip"?[{label:"当前全局配置",value:"current"},{label:"清华镜像",value:"tsinghua"},{label:"阿里云镜像",value:"aliyun"},{label:"官方源",value:"official"}]:[{label:"当前全局配置",value:"current"},{label:"清华镜像",value:"tsinghua"},{label:"阿里云镜像",value:"aliyun"},{label:"官方源",value:"official"}]),ce=T(()=>l.value==="pip"?be:Ue);function Q(o){const t=o.meta??{};if(l.value==="pip"){if(t.since&&!p.isPipVersionAtLeast(t.since)||t.until&&p.isPipVersionAtLeast(t.until)||t.cliFlags&&t.cliFlags.length>0&&!t.cliFlags.some(a=>p.isPipOptionSupported(a)))return!1}else if(t.since&&!p.isUvVersionAtLeast(t.since)||t.until&&p.isUvVersionAtLeast(t.until)||t.cliFlags&&t.cliFlags.length>0&&!t.cliFlags.some(a=>p.isUvOptionSupported(a)))return!1;return!0}const H=T(()=>ce.value.filter(o=>Q(o))),M=T(()=>H.value.map(o=>o.key)),Y=T(()=>{const o=new Set(M.value),t={};return Object.entries(s).forEach(([d,a])=>{o.has(d)&&(t[d]=a)}),t}),Z=T(()=>{const o=new Set;H.value.forEach(d=>o.add(d.category));const t=Array.from(o);return f.value?t.filter(d=>B(d).length>0):t});function B(o){const t=H.value.filter(d=>d.category===o);return f.value?t.filter(d=>{const a=s[d.key];return a!=null&&a!==""&&a!==!1}):t}function ee(o){n.value.has(o)?n.value.delete(o):n.value.add(o)}function u(o){return n.value.has(o)}function V(o){return o.options?o.options:[]}const $=T(()=>l.value==="pip"?Te(Y.value):je(Y.value)),F=T({get:()=>l.value==="pip"?_.value:L.value,set:o=>{l.value==="pip"?_.value=o:L.value=o}}),W=T(()=>l.value==="pip"?y.value:P.value),te=T(()=>l.value==="pip"?"pip.ini":"uv.toml");I($,o=>{k.value||(F.value=o)},{immediate:!0}),I(()=>[...M.value],o=>{const t=new Set(o);Object.keys(s).forEach(d=>{t.has(d)||delete s[d]})},{immediate:!0});function ue(){const o=new Set(M.value);Object.keys(s).forEach(t=>{o.has(t)||delete s[t]})}I(l,()=>{c.value="current",de(),pe()});function he(o){if(!(!o||o.trim()===""||o==="# 暂无配置")){k.value=!0;try{const t=l.value==="pip"?fe(o):ge(o);Object.keys(s).forEach(d=>delete s[d]),Object.assign(s,t),ue()}finally{setTimeout(()=>{k.value=!1},0)}}}let K=null;I(F,o=>{k.value||(K&&clearTimeout(K),K=window.setTimeout(()=>{he(o)},500))});async function de(){if(c.value==="current"){await ke();return}const o=l.value==="pip"?Le[c.value]:Re[c.value];o&&(Object.keys(s).forEach(t=>delete s[t]),Object.assign(s,o),ue(),r.success(`已应用预设: ${J.value.find(t=>t.value===c.value)?.label}`))}async function me(){if(g.value!=="copying"){g.value="copying";try{await navigator.clipboard.writeText(F.value),g.value="success",r.success("已复制到剪贴板"),setTimeout(()=>{g.value="idle"},2e3)}catch{g.value="error",r.error("复制失败"),setTimeout(()=>{g.value="idle"},2e3)}}}async function pe(){try{if(l.value==="pip"){const o=await window.pythonToolboxAPI.readPipConfig();y.value=o}else{const o=await window.pythonToolboxAPI.readUvConfig();P.value=o}}catch(o){console.error("刷新配置内容失败:",o)}}async function xe(){try{r.info("正在备份当前配置..."),l.value==="pip"?(await window.pythonToolboxAPI.writePipConfig(_.value),r.success("已应用到全局 pip.ini 文件")):(await window.pythonToolboxAPI.writeUvConfig(L.value),r.success("已应用到全局 uv.toml 文件")),await pe()}catch(o){r.error(`应用失败: ${o.message}`)}}async function we(o){try{const t=await window.pythonToolboxAPI.selectFolder();t&&(s[o]=t,r.success(`已选择路径: ${t}`))}catch(t){r.error(`选择文件夹失败: ${t.message}`)}}async function ke(){try{r.info("正在读取当前配置...");const o=l.value==="pip"?await window.pythonToolboxAPI.readPipConfig():await window.pythonToolboxAPI.readUvConfig();if(l.value==="pip"?y.value=o:P.value=o,Object.keys(s).forEach(t=>delete s[t]),o){const t=l.value==="pip"?fe(o):ge(o);Object.assign(s,t),ue(),r.success(`已加载当前全局配置 (${Object.keys(t).length} 项)`)}else{const t=l.value==="pip"?"pip.ini":"uv.toml";r.warning(`当前没有 ${t} 配置文件`)}}catch{r.error("读取配置失败")}}return ne(()=>{p.fetchPythonInfo(),p.ensureCliOptions(),de(),pe()}),se(()=>{K&&clearTimeout(K)}),(o,t)=>(b(),w("div",Ne,[(b(),S(ie,{to:"#tab-actions"},[Ce(h).path==="/config"?(b(),w(N,{key:0},[e("div",qe,[t[2]||(t[2]=e("span",{class:"text-xs text-gray-600 font-medium"},"方案",-1)),E(ve,{modelValue:c.value,"onUpdate:modelValue":[t[0]||(t[0]=d=>c.value=d),de],options:J.value,size:"sm"},null,8,["modelValue","options"])]),e("div",He,[E(We,{ref_key:"menuDropdownRef",ref:i},{default:X(({close:d})=>[e("div",Ye,[t[3]||(t[3]=e("div",{class:"text-[10px] text-gray-500 font-medium mb-1"}," 配置类型 ",-1)),e("div",Ke,[e("button",{onClick:A(a=>{l.value="pip",d()},["stop"]),class:C(["flex-1 px-2 py-1.5 text-xs rounded-md transition-all",l.value==="pip"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"])}," pip ",10,Ge),e("button",{onClick:A(a=>{l.value="uv",d()},["stop"]),class:C(["flex-1 px-2 py-1.5 text-xs rounded-md transition-all",l.value==="uv"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"])}," uv ",10,Xe)])]),t[8]||(t[8]=e("div",{class:"border-t border-gray-200 my-1"},null,-1)),e("div",Je,[t[6]||(t[6]=e("div",{class:"text-[10px] text-gray-500 font-medium mb-1"}," 显示过滤 ",-1)),e("div",Qe,[e("button",{onClick:A(a=>{f.value=!1,d()},["stop"]),class:C(["flex-1 px-2 py-1.5 text-xs rounded-md transition-all flex items-center justify-center gap-1",f.value?"text-gray-600 hover:text-gray-900":"bg-white text-indigo-600 shadow-sm"])},[...t[4]||(t[4]=[e("svg",{class:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),e("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),e("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),e("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),e("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),e("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})],-1),e("span",null,"全部",-1)])],10,Ze),e("button",{onClick:A(a=>{f.value=!0,d()},["stop"]),class:C(["flex-1 px-2 py-1.5 text-xs rounded-md transition-all flex items-center justify-center gap-1",f.value?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"])},[...t[5]||(t[5]=[e("svg",{class:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})],-1),e("span",null,"已配置",-1)])],10,et)])]),t[9]||(t[9]=e("div",{class:"border-t border-gray-200 my-1"},null,-1)),e("div",tt,[t[7]||(t[7]=e("div",{class:"text-[10px] text-gray-500 font-medium mb-1"}," 视图模式 ",-1)),e("div",lt,[(b(),w(N,null,G(U,a=>e("button",{key:a.value,onClick:A(R=>{v.value=a.value,d()},["stop"]),class:C(["flex-1 px-2 py-1.5 text-xs rounded-md transition-all flex items-center justify-center gap-1",v.value===a.value?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"]),title:a.label},[E(z,{name:a.icon,size:"xs"},null,8,["name"]),e("span",null,j(a.label),1)],10,ot)),64))])])]),_:1},512)])],64)):D("",!0)])),e("div",at,[O(e("div",{class:C([v.value==="dual"?"w-1/2 border-r border-gray-200":"w-full","flex flex-col min-h-0 overflow-hidden"])},[e("div",nt,[e("div",st,[(b(!0),w(N,null,G(Z.value,d=>(b(),w("div",{key:d,class:"border border-gray-200 rounded-lg"},[e("div",{onClick:a=>ee(d),class:C(["flex items-center justify-between px-3 py-1.5 bg-gray-50 hover:bg-gray-100 cursor-pointer transition-colors select-none sticky top-0 z-10 border-gray-200",{"border-b":!u(d),"rounded-lg":u(d),"rounded-t-lg":!u(d)}])},[e("div",rt,[e("div",{class:C(["text-gray-500 flex-shrink-0 transition-transform duration-200",{"rotate-0":!u(d),"-rotate-90":u(d)}])},[E(z,{name:"chevron-down",size:"xs"})],2),e("span",ct,j(d),1),e("span",ut," ("+j(B(d).length)+") ",1)])],10,it),E(re,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"max-h-0 opacity-0","enter-to-class":"max-h-[2000px] opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"max-h-[2000px] opacity-100","leave-to-class":"max-h-0 opacity-0"},{default:X(()=>[O(e("div",dt,[e("div",pt,[(b(!0),w(N,null,G(B(d),a=>(b(),w("div",{key:a.key,class:"flex flex-col gap-1 py-1.5 px-2 hover:bg-gray-50 rounded transition-all group"},[e("div",yt,[e("label",{class:"w-36 flex-shrink-0 text-xs font-medium text-gray-700 truncate",title:a.label},j(a.label),9,ft),e("div",gt,[a.type==="text"&&a.options?(b(),S(Be,{key:0,modelValue:s[a.key],"onUpdate:modelValue":R=>s[a.key]=R,options:V(a),placeholder:a.placeholder,class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","options","placeholder"])):a.type==="text"?O((b(),w("input",{key:1,"onUpdate:modelValue":R=>s[a.key]=R,type:"text",class:"flex-1 px-2 py-1 text-xs bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 hover:border-indigo-400 transition-all min-w-0",placeholder:a.placeholder},null,8,vt)),[[le,s[a.key]]]):a.type==="number"?O((b(),w("input",{key:2,"onUpdate:modelValue":R=>s[a.key]=R,type:"number",class:"flex-1 px-2 py-1 text-xs bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 hover:border-indigo-400 transition-all min-w-0",placeholder:a.placeholder},null,8,bt)),[[le,s[a.key],void 0,{number:!0}]]):a.type==="select"?(b(),S(ve,{key:3,modelValue:s[a.key],"onUpdate:modelValue":R=>s[a.key]=R,options:[{label:"不设置",value:""},...a.options||[]],size:"sm",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","options"])):a.type==="boolean"?(b(),w("label",ht,[O(e("input",{"onUpdate:modelValue":R=>s[a.key]=R,type:"checkbox",class:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer"},null,8,mt),[[$e,s[a.key]]]),t[10]||(t[10]=e("span",{class:"text-xs text-gray-700"},"启用",-1))])):D("",!0),a.type==="text"&&(a.key.endsWith("-dir")||a.key.endsWith("-cert")||["cert","log","log-file"].includes(a.key))?(b(),w("button",{key:5,onClick:R=>we(a.key),class:"w-5 h-5 flex items-center justify-center flex-shrink-0 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-all",title:"选择文件夹"},[E(z,{name:"folder",size:"xs"})],8,xt)):D("",!0),s[a.key]!==void 0&&s[a.key]!==""&&s[a.key]!==!1?(b(),w("button",{key:6,onClick:R=>delete s[a.key],class:"w-5 h-5 flex items-center justify-center flex-shrink-0 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-all opacity-0 group-hover:opacity-100",title:"清除此项"},[E(z,{name:"x",size:"xs"})],8,wt)):D("",!0)])]),e("p",{class:"text-xs text-gray-400 leading-tight pl-0",title:a.description},j(a.description),9,kt)]))),128))])],512),[[oe,!u(d)]])]),_:2},1024)]))),128))])])],2),[[oe,v.value==="dual"||v.value==="edit"]]),O(e("div",{class:C([v.value==="dual"?"w-1/2":"w-full","flex flex-col min-h-0 overflow-hidden"])},[e("div",_t,[e("div",Vt,[e("div",Ct,[e("span",Pt,j(te.value),1),e("div",$t,[e("button",{onClick:me,disabled:g.value==="copying",class:C(["w-6 h-6 flex items-center justify-center rounded transition-all",g.value==="copying"?"text-indigo-400 cursor-not-allowed":g.value==="success"?"text-green-600 hover:text-green-700 hover:bg-green-50":g.value==="error"?"text-red-600 hover:text-red-700 hover:bg-red-50":"text-gray-600 hover:text-indigo-600 hover:bg-indigo-50"]),title:g.value==="copying"?"复制中...":g.value==="success"?"复制成功":g.value==="error"?"复制失败":"复制"},[E(z,{name:g.value==="copying"?"refresh":g.value==="success"?"check":g.value==="error"?"x":"copy",size:"xs",class:C({"animate-spin":g.value==="copying"})},null,8,["name","class"])],10,Ft),e("button",{onClick:xe,class:"w-6 h-6 flex items-center justify-center bg-green-600 hover:bg-green-700 text-white rounded transition-all",title:"应用到全局"},[E(z,{name:"save",size:"xs"})])])]),O(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=d=>F.value=d),spellcheck:"false",class:"w-full p-3 text-xs text-gray-800 font-mono leading-relaxed bg-white resize-none focus:outline-none min-h-[300px] overflow-x-auto",placeholder:`# 在此编辑 ${te.value} 配置`,style:{"word-wrap":"break-word","overflow-wrap":"break-word"}},null,8,Et),[[le,F.value]])]),e("div",Lt,[e("div",Ut,[e("span",Rt,"当前系统 "+j(te.value),1)]),W.value?(b(),w("pre",Tt,j(W.value),1)):(b(),w("div",jt," 未找到配置文件 "))])])],2),[[oe,v.value==="dual"||v.value==="preview"]])])]))}});export{Ot as default};
